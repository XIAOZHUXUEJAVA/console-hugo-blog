<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>littlepig/old-posts/rust-enums/</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <link rel="stylesheet" href="https://xxxdgblog.github.io/hugo-theme-console/css/terminal-0.7.2.min.css">
    <link rel="stylesheet" href="https://xxxdgblog.github.io/hugo-theme-console/css/animate-4.1.1.min.css">
    <link rel="stylesheet" href="https://xxxdgblog.github.io/hugo-theme-console/css/console.css">
    
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
       <meta property="og:title" content="Rustlings-Enums" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xxxdgblog.github.io/old-posts/rust-enums/" /><meta property="article:published_time" content="2023-02-25T00:00:00+00:00" />



<meta name="twitter:title" content="Rustlings-Enums"/>
<meta name="twitter:description" content="Learn Rust (Just For Fun)"/>

</head>
<body class="terminal">
    <div class="container">
        <div class="terminal-nav">
          <header class="terminal-logo">
            <div class="logo terminal-prompt">
              
              
              <a href="https://xxxdgblog.github.io/" class="no-style site-name">littlepig</a>:~# 
              <a href='https://xxxdgblog.github.io/old-posts'>old-posts</a>/<a href='https://xxxdgblog.github.io/old-posts/rust-enums'>rust-enums</a>/</div></header>
          <nav class="terminal-menu">
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                <li><a href="https://xxxdgblog.github.io/about/" typeof="ListItem">about/</a></li>
                
                <li><a href="https://xxxdgblog.github.io/posts/" typeof="ListItem">posts/</a></li>
                
                <li><a href="https://xxxdgblog.github.io/photos/" typeof="ListItem">photos/</a></li>
                
                <li><a href="https://xxxdgblog.github.io/old-posts/" typeof="ListItem">old-posts/</a></li>
                
            </ul>
          </nav>
        </div>
    </div>

    <div class="container animated zoomIn fast" >
        
<h1>Rustlings-Enums</h1>
<h1 id="rust-enums">Rust-Enums</h1>
<h2 id="enum1rs">enum1.rs</h2>
<p>In practical applications, enums types are often used to express a group of related options or status, such as <strong>HTTP status code</strong>, <strong>the status of operating system process</strong> and so on. Using enums can make our code clear and understandable, while also improving its readability and maintainability.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#75715e">#[derive(Debug)]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">Message</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TODO: define a few types of messages as used below
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Quit,
</span></span><span style="display:flex;"><span>    Echo,
</span></span><span style="display:flex;"><span>    Move,
</span></span><span style="display:flex;"><span>    ChangeColor,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    println!(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{:?}</span><span style="color:#e6db74">&#34;</span>, Message::Quit);
</span></span><span style="display:flex;"><span>    println!(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{:?}</span><span style="color:#e6db74">&#34;</span>, Message::Echo);
</span></span><span style="display:flex;"><span>    println!(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{:?}</span><span style="color:#e6db74">&#34;</span>, Message::Move);
</span></span><span style="display:flex;"><span>    println!(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{:?}</span><span style="color:#e6db74">&#34;</span>, Message::ChangeColor);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>For instance,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">HttpStatus</span> {
</span></span><span style="display:flex;"><span>    Continue <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>,
</span></span><span style="display:flex;"><span>    Ok <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>,
</span></span><span style="display:flex;"><span>    BadRequest <span style="color:#f92672">=</span> <span style="color:#ae81ff">400</span>,
</span></span><span style="display:flex;"><span>    Unauthorized <span style="color:#f92672">=</span> <span style="color:#ae81ff">401</span>,
</span></span><span style="display:flex;"><span>    Forbidden <span style="color:#f92672">=</span> <span style="color:#ae81ff">403</span>,
</span></span><span style="display:flex;"><span>    NotFound <span style="color:#f92672">=</span> <span style="color:#ae81ff">404</span>,
</span></span><span style="display:flex;"><span>    InternalServerError <span style="color:#f92672">=</span> <span style="color:#ae81ff">500</span>,
</span></span><span style="display:flex;"><span>    NotImplemented <span style="color:#f92672">=</span> <span style="color:#ae81ff">501</span>,
</span></span><span style="display:flex;"><span>    BadGateway <span style="color:#f92672">=</span> <span style="color:#ae81ff">502</span>,
</span></span><span style="display:flex;"><span>    ServiceUnavailable <span style="color:#f92672">=</span> <span style="color:#ae81ff">503</span>,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="enum2rs">enum2.rs</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#75715e">#[derive(Debug)]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">Message</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TODO: define the different variants used below
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Move {x: <span style="color:#66d9ef">i32</span>, y: <span style="color:#66d9ef">i32</span>},
</span></span><span style="display:flex;"><span>    Echo(String),
</span></span><span style="display:flex;"><span>    ChangeColor(<span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>),
</span></span><span style="display:flex;"><span>    Quit,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">impl</span> Message {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">call</span>(<span style="color:#f92672">&amp;</span>self) {
</span></span><span style="display:flex;"><span>        println!(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{:?}</span><span style="color:#e6db74">&#34;</span>, self);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> messages <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>        Message::Move { x: <span style="color:#ae81ff">10</span>, y: <span style="color:#ae81ff">30</span> },
</span></span><span style="display:flex;"><span>        Message::Echo(String::from(<span style="color:#e6db74">&#34;hello world&#34;</span>)),
</span></span><span style="display:flex;"><span>        Message::ChangeColor(<span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">255</span>),
</span></span><span style="display:flex;"><span>        Message::Quit,
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> message <span style="color:#66d9ef">in</span> <span style="color:#f92672">&amp;</span>messages {
</span></span><span style="display:flex;"><span>        message.call();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="enum3rs">enum3.rs</h2>
<p>The <code>process</code> function is used to handle different types of messages. Based on the type message passed in, the <code>process</code> function calls the corresponding function in the <code>State</code> structure. rust compiler will infer the type of <code>point</code>, <code>str</code> and <code>color</code> depend on context</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">Message</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TODO: implement the message variant types based on their usage below
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Move(Point),
</span></span><span style="display:flex;"><span>    Echo(String),
</span></span><span style="display:flex;"><span>    ChangeColor((<span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>)),
</span></span><span style="display:flex;"><span>    Quit,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Point</span> {
</span></span><span style="display:flex;"><span>    x: <span style="color:#66d9ef">u8</span>,
</span></span><span style="display:flex;"><span>    y: <span style="color:#66d9ef">u8</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">State</span> {
</span></span><span style="display:flex;"><span>    color: (<span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>),
</span></span><span style="display:flex;"><span>    position: <span style="color:#a6e22e">Point</span>,
</span></span><span style="display:flex;"><span>    quit: <span style="color:#66d9ef">bool</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">impl</span> State {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">change_color</span>(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> self, color: (<span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>, <span style="color:#66d9ef">u8</span>)) {
</span></span><span style="display:flex;"><span>        self.color <span style="color:#f92672">=</span> color;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">quit</span>(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> self) {
</span></span><span style="display:flex;"><span>        self.quit <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">echo</span>(<span style="color:#f92672">&amp;</span>self, s: String) {
</span></span><span style="display:flex;"><span>        println!(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span>, s);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">move_position</span>(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> self, p: <span style="color:#a6e22e">Point</span>) {
</span></span><span style="display:flex;"><span>        self.position <span style="color:#f92672">=</span> p;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">process</span>(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> self, message: <span style="color:#a6e22e">Message</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">match</span> message {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// rust compiler will ifer the type of `point`, `str` and  `color` depend on context
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            Message::Move(point) <span style="color:#f92672">=&gt;</span> self.move_position(point),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            Message::Echo(<span style="color:#66d9ef">str</span>) <span style="color:#f92672">=&gt;</span> self.echo(<span style="color:#66d9ef">str</span>),
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            Message::ChangeColor(color) <span style="color:#f92672">=&gt;</span> self.change_color(color),
</span></span><span style="display:flex;"><span>            Message::Quit <span style="color:#f92672">=&gt;</span> self.quit(),
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO: create a match expression to process the different message variants
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// Remember: When passing a tuple as a function argument, you&#39;ll need extra parentheses: fn function((t, u, p, l, e))
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#[cfg(test)]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">mod</span> tests {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">use</span> <span style="color:#66d9ef">super</span>::<span style="color:#f92672">*</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#[test]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">test_match_message_call</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> state <span style="color:#f92672">=</span> State {
</span></span><span style="display:flex;"><span>            quit: <span style="color:#a6e22e">false</span>,
</span></span><span style="display:flex;"><span>            position: <span style="color:#a6e22e">Point</span> { x: <span style="color:#ae81ff">0</span>, y: <span style="color:#ae81ff">0</span> },
</span></span><span style="display:flex;"><span>            color: (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>),
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        state.process(Message::ChangeColor((<span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">255</span>)));
</span></span><span style="display:flex;"><span>        state.process(Message::Echo(String::from(<span style="color:#e6db74">&#34;hello world&#34;</span>)));
</span></span><span style="display:flex;"><span>        state.process(Message::Move(Point { x: <span style="color:#ae81ff">10</span>, y: <span style="color:#ae81ff">15</span> }));
</span></span><span style="display:flex;"><span>        state.process(Message::Quit);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assert_eq!(state.color, (<span style="color:#ae81ff">255</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">255</span>));
</span></span><span style="display:flex;"><span>        assert_eq!(state.position.x, <span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>        assert_eq!(state.position.y, <span style="color:#ae81ff">15</span>);
</span></span><span style="display:flex;"><span>        assert_eq!(state.quit, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

        <div class="footer">
    Powered by <a href="https://gohugo.io/">Hugo + Github Pages</a> 
</div>

    </div>
  </body>
</html>
